<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>VIII.5 Coding API Calls When Using Geosupport COPY Files - DCP</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/highlight.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="../../../css/main.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "VIII.5 Coding API Calls When Using Geosupport COPY Files";
    var mkdocs_page_input_path = "chapters\\chapterVIII\\section05.md";
    var mkdocs_page_url = "/chapters/chapterVIII/section05/";
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js"></script>
  <script src="../../../js/modernizr-2.8.3.min.js"></script>
  <script src="../../../js/main.js"></script>
  <script type="text/javascript" src="../../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">

        <!-- Original -->
        <!-- <a href="../../.." class="icon icon-home" id="logoID"> DCP</a> -->

        <!-- Custom -->
        <a href="http://www1.nyc.gov/site/planning/index.page" class="icon icon-home nycplanning" ></a><br>
        <a href="../../.." class="icon icon-home homeLogo" id="logoID"></a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../tableofcontents/">Table of Contents</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../overview/">Overview of the UPG</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter I: System Overview</a>
    <!-- <span class="caption-text">Chapter I: System Overview</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterI/chapterI/">Chapter I</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section01/">I.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section02/">I.2 System Functionality</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section03/">I.3 Introduction to Geographic Retrieval Consistency</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section04/">I.4 The Geosupport Function Suite</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section05/">I.5 Overview of System Architecture</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterI/section06/">I.6 Technical References</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter II: Geosupport API Introduction</a>
    <!-- <span class="caption-text">Chapter II: Geosupport API Introduction</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterII/chapterII/">Chapter II</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section01/">II.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section02/">II.2 Geosupport Return Codes and Reject Handling</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section03/">II.3 Geosupport API User Programming Procedure</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section04/">II.4 One-Work-Area and Two-Work-Area Calls</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section05/">II.5 Coding Geosupport API Calls</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section06/">II.6 The Work Area C/C++ Header File and Visual Basic Typedef File</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section07/">II.7 Coding API Calls When Using Geosupport C/C++ Header Files</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section08/">II.8 Creating a Geosupport Desktop Edition Application</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section09/">II.9 Sample Programs with Descriptions</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section10/">II.10 The Long Work-Area-2 Option</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section11/">II.11 The Auxiliary Segment Option (COW Only)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section12/">II.12 The Extended Work Area 2 Option (COW Only)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterII/section13/">II.13 The Enhanced Work Area 2 Option (NMF Only)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter III: Street Name Processing</a>
    <!-- <span class="caption-text">Chapter III: Street Name Processing</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterIII/chapterIII/">Chapter III</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section01/">III.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section02/">III.2 Street Name Normalizing and the SNL Parameter</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section03/">III.3 Street Name Sorting and Normalization Format Options</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section04/">III.4 Partial Street Names</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section05/">III.5 The Similar Names Feature</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section06/">III.6 Unconventional Geographic Feature Names</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section07/">III.7 Street Name Browsing and Functions BB and BF</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIII/section08/">III.8 Selection of Output Street Names (COW only)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter IV: Street Codes</a>
    <!-- <span class="caption-text">Chapter IV: Street Codes</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterIV/chapterIV/">Chapter IV</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section01/">IV.1 Introduction: Street Codes and Geographic Retrieval Consistency</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section02/">IV.2 Street Name Relationships: Aliases and Locally Valid Street Names</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section03/">IV.3 Five-Digit and Ten-Digit Street Codes</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section04/">IV.4 Resynchronization of Street Codes Stored in User Files</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section05/">IV.5 Seven-Digit Street Codes: Local Street Name Validity, Local Group Codes</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section06/">IV.6 Functions D, DG and DN;  Primary, Principal and Preferred Street Names</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section07/">IV.7 Street Codes and Non-Addressable Place Names</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section08/">IV.8 Street Code Input Feature</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIV/section09/">IV.9 Summary of Street Codes</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter V: Address Processing</a>
    <!-- <span class="caption-text">Chapter V: Address Processing</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterV/chapterV/">Chapter V</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section01/">V.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section02/">V.2 Address Numbers (‘House’ Numbers), Normalization and Formats: HNI, HNS and HND</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section03/">V.3 Specifying Input Data to the Address-Processing Functions: NAPs, Parsed-Form Addresses, Free-Form Addresses and Unit Information</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section04/">V.4 Input Address Acceptance/Rejection and its Validation Significance</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section05/">V.5 Output Data Returned in Work Area 2 of Address Processing Functions</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section06/">V.6 Duplicate Addresses</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section07/">V.7 Marble Hill/Rikers Island</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section08/">V.8 Special Ruby Street Processing</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section09/">V.9 Vanity Addresses</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section10/">V.10 Out-of-Sequence Addresses</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section11/">V.11 ZIP Code as Input Instead of Borough Code</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section12/">V.12 Fuzzy Search for Address Functions 1, 1A, 1B, and 1E</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section13/">V.13 Special Place Name Processing</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section14/">V.14 ‘No Cross Street’ Segment Processing</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterV/section15/">V.15 UNIT Information Feature (COW Only)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter VI: Tax Lot, Building, and Address Point Processing</a>
    <!-- <span class="caption-text">Chapter VI: Tax Lot, Building, and Address Point Processing</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterVI/chapterVI/">Chapter VI</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section01/">VI.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section02/">VI.2 Tax Lots and BBLs</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section03/">VI.3 Buildings and Building Identification Numbers (BINs)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section04/">VI.4 Condominiums and Billing BBLs</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section05/">VI.5 Vacant Street Frontages and Pseudo-Addresses</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section06/">VI.6 Function 1A</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section07/">VI.7 Function BL</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section08/">VI.8 Standard and Legacy Versions of Functions 1A and BL</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section09/">VI.9 Function BN</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section10/">VI.10 Function AP (COW Only)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVI/section11/">VI.11 Transitional Property Address Directory (TPAD) Building Identification Number (BIN) and status information for Functions 1A, 1B, BL and BN (COW Only)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter VII: Street Configuration Processing</a>
    <!-- <span class="caption-text">Chapter VII: Street Configuration Processing</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterVII/chapterVII/">Chapter VII</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section01/">VII.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section02/">VII.2 Intersections: Function 2 and Function 2W</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section03/">VII.3 Three-Street Configurations - Concepts and Terminology</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section04/">VII.4 Street Segments and Related Configurations: Function 3</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section05/">VII.5 Blockfaces: Function 3C</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section06/">VII.6 Street Stretches: Function 3S</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section07/">VII.7 Borough Boundary Processing (Functions 2, 3 and 3C)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterVII/section08/">VII.8  Fuzzy Name Search Processing for Functions 3, 3C, and 3S – Front-truncated street names</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter VIII: Geosupport API</a>
    <!-- <span class="caption-text">Chapter VIII: Geosupport API</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../chapterVIII/">Chapter VIII</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section01/">VIII.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section02/">VIII.2 Review of the Geosupport API</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section03/">VIII.3 Coding API Calls</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section04/">VIII.4 The Geosupport Copy Files</a>
                  </li>
                  <li class=" current" >
                      
    <a class="current" href="./">VIII.5 Coding API Calls When Using Geosupport COPY Files</a>
    <ul class="subnav hideMe">
            
    <li class="toctree-l3"><a href="#cobol-source-code-statements">COBOL Source Code Statements</a></li>
    

    <li class="toctree-l3"><a href="#assembler-source-code-statements">Assembler Source Code Statements</a></li>
    

    <li class="toctree-l3"><a href="#pl1-source-code-statements">PL/1 Source Code Statements</a></li>
    

    <li class="toctree-l3"><a href="#ibmc-source-code-statements">IBM/C Source Code Statements</a></li>
    

    <li class="toctree-l3"><a href="#natural-source-code-statements">NATURAL Source Code Statements</a></li>
    

    </ul>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section06/">VIII.6 JCL for the Compile Step</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section07/">VIII.7 JCL for the Compile Step</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../section08/">VIII.8 JCL for the Execute Step (Batch Applications)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter IX: Mainframe GBAT</a>
    <!-- <span class="caption-text">Chapter IX: Mainframe GBAT</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterIX/chapterIX/">Chapter IX</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section01/">IX.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section02/">IX.2 JCL Considerations</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section03/">IX.3 GBAT Processing and Programmed Abnormal Terminations</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section04/">IX.4 The Input Data File (DDNAME=INFILE or INVSAM)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section05/">IX.5 The Input Control File (DDNAME=CARDIN)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section06/">IX.6 The Input Alias File (DDNAME=ALIASES)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section07/">IX.7 The Output File of Accepted Records (DDNAME=OUTFILE)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section08/">IX.8 The Output Files of Rejected Records (DDNAME=ERRFILx)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterIX/section09/">IX.9 The Output Print File (DDNAME=SYSPRINT)</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter X: Desktop Edition GBAT</a>
    <!-- <span class="caption-text">Chapter X: Desktop Edition GBAT</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterX/chapterX/">Chapter X</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterX/section01/">X.1 What is GBAT?</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterX/section02/">X.2 Using GBAT</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Chapter XI: Desktop Edition GOAT</a>
    <!-- <span class="caption-text">Chapter XI: Desktop Edition GOAT</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../chapterXI/chapterXI/">Chapter XI</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section01/">XI.1 Introduction</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section02/">XI.2 How to Use GOAT</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section03/">XI.3 Invoking Function 1 or Function 1E</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section04/">XI.4 Invoking Function 1A</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section05/">XI.5 Invoking Function 2</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section06/">XI.6 Invoking Function 3 or Function 3C</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section07/">XI.7 Invoking Function 3S</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section08/">XI.8 Invoking Function B</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section09/">XI.9 Invoking Function BL</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section10/">XI.10 Invoking Function BN</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../chapterXI/section11/">XI.11 Invoking Function D</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="caption-text">Appendices and Glossary</a>
    <!-- <span class="caption-text">Appendices and Glossary</span> -->
    <ul class="subnav hideMe">
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendices/">Appendices and Glossary</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix01/">Appendix 1: Geosupport Functions - Quick Reference</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix02/">Appendix 2: Mainframe-Specific Work Area Layouts(MSW)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix03/">Appendix 3: Data Item Dictionary</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix04/">Appendix 4: Geosupport Return Codes, Reason Codes And Messages</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix05/">Appendix 5: Geosupport Copy Files (MSW)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix06/">Appendix 6: User Feedback Procedures</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix07/">Appendix 7: Mainframe Data Centers Where Geosupport Is Installed</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix08/">Appendix 8: Sample Application Programs And JCL</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix09/">Appendix 9: GBAT Reference Tables</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix10/">Appendix 10: Sample GBAT Jobs</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix11/">Appendix 11: Guidelines For Application Design</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix12/">Appendix 12: Character-Only Work Areas (COW)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix13/">Appendix 13: Character-Only Work Area LAYOUTS (COW)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix14/">Appendix 14: Geosupport Copy Files (COW)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix15/">Appendix 15: 2010 Census Geography – Functions 1, 1E, 2, 3, and 3C</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix16/">Appendix 16: Neighborhood Tabulation Areas (NTAs) and PUMAs</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix17/">Appendix 17: TPAD - Additional Information</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix18/">Appendix 18: GeoExcel Application</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix19/">Appendix 19: Work Area Layouts (COWs)</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix20/">Appendix 20: Geosupport Header And Typedef Files</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix21/">Appendix 21: Geosupport Desktop Edtion</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/appendix22/">Appendix 22: GeoX Programming Guide</a>
                  </li>
                  <li class="" >
                      
    <a class="" href="../../../appendices/glossary/">Glossary of Terms And Acronyms</a>
                  </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../../../aboutUs/">About Us</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">DCP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <span style="float: right;" class="printLogo"><a onclick="handlePrintPage()" class="printBtn">Print Page</a>  <a href="../../../upg.pdf" target="_blank" class="printBtn">Print All</a></span>
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Chapter VIII: Geosupport API &raquo;</li>
        
      
    
    <li>VIII.5 Coding API Calls When Using Geosupport COPY Files</li>

    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>



  <hr/>


</div>
          <div role="main">
            <div class="section">
              
                <h2>VIII.5 Coding API Calls When Using Geosupport COPY Files</h2>

<p>This section describes the source code statements that COBOL, Assembler, PL/1, C and NATURAL users must code in application programs that use Geosupport COPY files.  The required statements consist of declarative statements to reference the COPY files (using the file names in Table VIII-1) and statements calling the driver.  </p>
<p>In <a href="../../../chapters/chapterVIII/section03/">Chapter VIII.3</a>, the forms of calls to the driver were given using arbitrary data names for the work areas.  In programs that do not use Geosupport COPY files, those names are user-selectable.  In the present section, the forms of the driver calls are given again, this time with the specific data names that are required for compatibility with the COPY files.  COBOL and C are the only supported languages that permit COPY file users to select their own names for the work areas (but not for the fields within the work areas).  Prior to each call to the driver, the program must prime Work Area 1 with the input data to be processed by Geosupport, as described in <a href="../../../chapters/chapterII/section03/">Chapter II.3</a>.</p>
<p>In <a href="../../chapterVIII/section03">Chapter VIII.3</a>, the forms of calls to the driver were given using arbitrary data names for the work areas.  In programs that do not use Geosupport COPY files, those names are user-selectable.  In the present section, the forms of the driver calls are given again, this time with the specific data names that are required for compatibility with the COPY files.  COBOL and C are the only supported languages that permit COPY file users to select their own names for the work areas (but not for the fields within the work areas).  Prior to each call to the driver, the program must prime Work Area 1 with the input data to be processed by Geosupport, as described in <a href="../../chapterII/section03">Chapter II.3</a>.</p>
<p>The declarative statements referencing COPY files cause the compiler to process the source code contained therein as if it were present within the application program’s own source code at the point in the program where the declarative statement is located.  Application programs need only reference those Geosupport COPY files that are required for the Geosupport function(s) the program actually calls, although referencing other COPY files does no harm.</p>
<h2 id="cobol-source-code-statements"><span id="chapterVIII.5.1"><center><u>COBOL Source Code Statements</u></center></span></h2>
<p>To reference Geosupport MSW COPY files, COBOL programs must contain the appropriate one (or more) of the following statements in WORKING-STORAGE:</p>
<blockquote>
<p>01 ANY-NAME-FOR-WA1. COPY W1COB.  WA1, all functions
01 ANY-NAME-FOR-WA2. COPY W2COB.  WA2, Functions 1 &amp; 1E &amp; 3 (regular WA2), 2, 3C</p>
<p>01 ANY-NAME-FOR-WA2-L. COPY W2COBL.   WA2, Functions 1&amp; 1E &amp; 3 (long WA2)</p>
<p>01 ANY-NAME-FOR-WA2-1A. COPY W2COB1A. WA2, Functions 1A &amp; BL (regular WA2), BN</p>
<p>01 ANY-NAME-FOR-WA2-1AL. COPY W2COB1AL.   WA2, Functions 1A &amp; BL (long WA2)</p>
<p>01 ANY-NAME-FOR-WA2-3S. COPY W2COB3S. WA2, Function 3S</p>
</blockquote>
<p>For COBOL programs that will be executed in the <b>batch environment</b> and that use Geosupport COPY files, API calls are coded as follows:</p>
<blockquote>
<p>One-work-area calls, all functions:
  CALL ‘GBI’ USING ANY-NAME-FOR-WA1.</p>
<p>Two-work-area calls, Functions 1 &amp; 1E &amp; 3 (regular WA2), 2, 3C:
  CALL ‘GBI’ USING ANY-NAME-FOR-WA1 ANY-NAME-FOR-WA2.</p>
<p>Two-work-area calls, Functions 1 &amp; 1E &amp; 3 (long WA2):
  CALL ‘GBI’ USING ANY-NAME-FOR-WA1 ANY-NAME-FOR-WA2-L.</p>
<p>Two-work-area calls, Functions 1A &amp; BL (regular WA2), BN:
  CALL ‘GBI' USING ANY-NAME-FOR-WA1 ANY-NAME-FOR-WA2-1A.</p>
<p>Two-work-area calls, Functions 1A &amp; BL (long WA2):
   CALL ‘GBI’ USING ANY-NAME-FOR-WA1 ANY-NAME-FOR-WA2-1AL.</p>
<p>Two-work-area calls, Function 3S:
    CALL ‘GBI’ USING ANY-NAME-FOR-WA1 ANY-NAME-FOR-WA2-3S.</p>
</blockquote>
<p><b>CICS programs</b> issue calls as above but with GOAIDRV in place of GBI.</p>
<p>To reference Geosupport <b>COW COPY files</b> include the appropriate COPY files whose names begin with P1 and P2 instead of W1 and W2, e.g. P1COB instead of W1COB.  Note that in the COW format, there is no long WA2 for Functions 1, 1E, and 3.  Note, also, that there are additional function options in the COW format.  </p>
<p>* To choose the appropriate COW COPY file, see Table VIII-2.*</p>
<h2 id="assembler-source-code-statements"><span id="chapterVIII.5.2"><center><u>Assembler Source Code Statements</u></center></span></h2>
<p>To reference Geosupport <b>MSW COPY files</b>, Assembler programs must contain the appropriate one (or more) of the following statements:</p>
<div class="sourceCodeStatements">

          COPY W1BAL                      WA1, all functions <br>
          COPY W2BAL                      WA2, Functions 1 & 1E & 3 (regular WA2), 2, 3C <br>
          COPY W2BALL                     WA2, Functions 1 & 1E & 3 (long WA2) <br>
          COPY W2BAL1A                  WA2, Functions 1A & BL (regular WA2), BN <br>
          COPY W2BAL1AL                WA2, Functions 1A & BL (long WA2) <br>
          COPY W2BAL3S                  WA2, Function 3S

</div>

<p>For Assembler programs that will be executed in the <b>batch environment</b> and that use Geosupport COPY files, API calls are coded as follows:</p>
<div class="sourceCodeStatements">

         CALL GBI,W1BAL,VL                             One-work-area calls, all functions <br>
         CALL GBI,(W1BAL,W2BAL),VL            Two-work-area calls, Functions 1 & 1E & 3 <br> (regular WA2), 2, 3C <br>
         CALL GBI,(W1BAL,W2BALL),VL          Two-work-area calls, Functions 1 & 1E & 3 <br> (long WA2) <br>
         CALL GBI,(W1BAL,W2BAL1A),VL        Two-work-area calls, Functions 1A & BL <br> (regular WA2), BN <br>
         CALL GBI,(W1BAL,W2BAL1AL),VL       Two-work-area calls, Functions 1A & BL <br> (long WA2) <br>
         CALL GBI,(W1BAL,W2BAL3S),VL        Two-work-area calls, Function 3S <br>

</div>

<p><b>CICS programs</b> issue calls as above but with GOAIDRV in place of GBI.</p>
<p>To reference Geosupport <b>COW COPY files</b> include the appropriate COPY files whose names begin with P1 and P2 instead of W1 and W2, e.g. P1BAL instead of W1BAL.  Note that in the COW format, there is no long WA2 for Functions 1, 1E, and 3.  Note, also, that there are additional function options in the COW format.</p>
<p>* To choose the appropriate COW COPY file, see Table VIII-2. *</p>
<h2 id="pl1-source-code-statements"><span id="chapterVIII.5.3"><center><u>PL/1 Source Code Statements</u></center></span></h2>
<p>To reference Geosupport <b>MSW COPY files</b>, PL/1 programs must contain the appropriate one(s) of the following statements:</p>
<div class="sourceCodeStatements">

         %INCLUDE W1PL1;                       WA1, all functions <br>
         %INCLUDE W2PL1;                       WA2, Functions 1 & 1E & 3 (regular WA2), 2, 3C <br>
         %INCLUDE W2PL1L;                     WA2, Functions 1 & 1E & 3 (long WA2) <br>
         %INCLUDE W2PL11A;                  WA2, Functions 1A & BL (regular WA2), BN <br>
         %INCLUDE W2PL11AL;                WA2, Functions 1A & BL (long WA2) <br>
         %INCLUDE W2PL13S;                  WA2, Function 3S <br>

</div>

<p>For PL/1 programs that will be executed in the <b>batch environment</b> and that use Geosupport COPY files, API calls are coded as follows:</p>
<div class="sourceCodeStatements">

         CALL GBI (W1PL1);                         One-work-area calls, all functions <br>
         CALL GBI (W1PL1,W2PL1);            Two-work-area calls, Functions 1 & 1E, 2, 3 <br>(regular WA2), 3C <br>
         CALL GBI (W1PL1,W2PL1L);          Two-work-area calls, Functions 1 & 1E & 3 <br>(long WA2) <br>
         CALL GBI (W1PL1,W2PL11A);        Two-work-area calls, Functions 1A & BL <br>(regular WA2), BN <br>
         CALL GBI (W1PL1,W2PL11AL);     Two-work-area calls, Functions 1A & BL <br>(long WA2) <br>
         CALL GBI (W1PL1,W2PL13S);        Two-work-area calls, Function 3S <br>

</div>

<p><b>CICS programs</b> issue calls as above but with GOAIDRV in place of GBI.  </p>
<p>(Note: for either a batch or a CICS PL/1 program, the appropriate Geosupport driver (GBI or GOAIDRV respectively) must be declared as an external entry point.  See Section VIII.3.)</p>
<p>To reference the Geosupport <b>COW COPY files</b> include the appropriate copy files whose names begin with P1 and P2 instead of W1 and W2, e.g. P1PL1 instead of W1PL1.  Note that in the COW format, there is no long WA2 for Functions 1, 1E, and 3.  Note, also, that there are additional function options in the COW format.</p>
<p>/* To choose the appropriate COW COPY file, see Table VIII-2. *</p>
<h2 id="ibmc-source-code-statements"><span id="chapterVIII.5.4"><center><u>IBM/C Source Code Statements</u></center></span></h2>
<p>To reference the Geosupport <b>MSW COPY file</b> IBM/C programs must contain the following statement:</p>
<blockquote>
<p>#include <wac.h></p>
</blockquote>
<p>In the following C source code examples, the letter ‘L’ appears in upper case to facilitate distinguishing it from the numeric character ‘1’.</p>
<div class="sourceCodeStatements">

         C_WA1 anyname_wa1;                                  WA1, all functions <br>
         C_WA2_F1 anyname_wa2_f1;                      WA2, Functions 1 & 1E (regular WA2) <br>
         C_WA2_F1 anyname_wa2_f1L;                    WA2, Functions 1 & 1E (long WA2) <br>
         C_WA2_F1A anyname_wa2_f1a;                 WA2, Functions 1A & BL (regular WA2), BN <br>
         C_WA2_F1AL anyname_wa2_f1aL;             WA2, Functions 1A & BL (long WA2) <br>
         C_WA2_F2 anyname_wa2_f2;                      WA2, Function 2 <br>
         C_WA2_F3 anyname_wa2_f3;                      WA2, Function 3 (regular WA2) <br>
         C_WA2_F3L anyname_wa2_f3L;                 WA2, Function 3 (long WA2) <br>
         C_WA2_F3C anyname_wa2_f3c;                 WA2, Function 3C <br>
         C_WA2_F3S anyname_wa2_f3s;                 WA2, Function 3S <br>

</div>

<p>For C programs that will be executed in the <b>batch environment</b> and that use the Geosupport COPY file, API calls are coded as follows:</p>
<div class="sourceCodeStatements">

         C_WA1 anyname_wa1;                                  WA1, all functions <br>
         C_WA2_F1 anyname_wa2_f1;                      WA2, Functions 1 & 1E (regular WA2) <br>
         C_WA2_F1 anyname_wa2_f1L;                    WA2, Functions 1 & 1E (long WA2) <br>
         C_WA2_F1A anyname_wa2_f1a;                 WA2, Functions 1A & BL (regular WA2), BN <br>
         C_WA2_F1AL anyname_wa2_f1aL;             WA2, Functions 1A & BL (long WA2) <br>
         C_WA2_F2 anyname_wa2_f2;                       WA2, Function 2 <br>
         C_WA2_F3 anyname_wa2_f3;                       WA2, Function 3 (regular WA2) <br>
         C_WA2_F3L anyname_wa2_f3L;                   WA2, Function 3 (long WA2) <br>
         C_WA2_F3C anyname_wa2_f3c;                   WA2, Function 3C <br>
         C_WA2_F3S anyname_wa2_f3s;                   WA2, Function 3S <br>

</div>

<div class="sourceCodeStatements">

    GBI (&anyname_wa1);                                                One-work-area calls, all functions. <br>
    GBI (&anyname_wa1,&anyname_wa2_f1);             Two-work-area calls, Functions 1 & 1E <br>  (regular WA2) <br>
    GBI (&anyname_wa1,&anyname_wa2_f1L);           Two-work-area calls, Functions 1 & 1E <br>  (long WA2) <br>
    GBI (&anyname_wa1,&anyname_wa2_f1a);           Two-work-area calls, Functions 1A & BL <br>  (regular WA2), BN <br>
    GBI (&anyname_wa1,&anyname_wa2_f1aL);         Two-work-area calls, Functions 1A & BL <br>  (long WA2) <br>
    GBI (&anyname_wa1,&anyname_wa2_f2);             Two-work-area calls, Function 2 <br>
    GBI (&anyname_wa1,&anyname_wa2_f3);             Two-work-area calls, Function 3 <br>  (regular WA2) <br>
    GBI (&anyname_wa1,&anyname_wa2_f3L);           Two-work-area calls, Function 3 <br>  (long WA2) <br>
    GBI (&anyname_wa1,&anyname_wa2_f3c);           Two-work-area calls, Function 3C <br>
    GBI (&anyname_wa1,&anyname_wa2_f3s);           Two-work-area calls, Function 3S <br>

</div>

<p><b>CICS</b> programs issue calls as above but with GOAIDRV in place of GBI.  </p>
<p>(Note:  for either a batch or a CICS C program, the Geosupport driver (GBI or GOAIDRV respectively) must be declared as an external entry point. (<a href="../../../chapters/chapterVIII/section03/">See Section VIII.3</a>.)</p>
<p>To reference the Geosupport <b>COW COPY files</b> include the PAC COPY file instead of the WAC COPY file. Note that in the COW format, there is no long WA2 for Functions 1, 1E, and 3.  Note, also, that there are additional function options in the COW format.</p>
<h2 id="natural-source-code-statements"><span id="chapterVIII.5.5"><center><u>NATURAL Source Code Statements</u></center></span></h2>
<p><b><u>NATURAL Source Code Statements</b></u>
NATURAL programs reference Geosupport MSW LDAs by containing one or more of the following statements in DEFINE DATA:</p>
<div class="sourceCodeStatements">

         LOCAL USING GEOLW1                 WA1, all functions <br>
         LOCAL USING GEOLW2                 WA2, Functions 1 & 1E & 3 (regular WA2), 2, 3C <br>
         LOCAL USING GEOLW2L               WA2, Functions 1 & 1E & 3 (long WA2) <br>
         LOCAL USING GEOLW21A            WA2, Functions 1A & BL (regular WA2), BN <br>
         LOCAL USING GEOLW2AL            WA2, Functions 1A & BL (long WA2) <br>
         LOCAL USING GEOLW23S            WA2, Function 3S <br>

</div>

<p>For NATURAL MSW programs that will be executed in the <b>batch environment</b> and that use the Geosupport COPY files (LDAs), API calls are issued as follows:</p>
<div class="sourceCodeStatements">

         CALL ‘GBI’ USING W1NAT                       One-work-area calls, all functions <br>
         CALL ‘GBI’ USING W1NAT W2NAT        Two-work-area calls, Functions 1 & 1E & 3 <br> (regular WA2), 2, 3C  <br>
         CALL ‘GBI’ USING W1NAT W2NATL       Two-work-area calls, Functions 1 & 1E & 3 <br> (longWA2)  <br>
         CALL ‘GBI’ USING W1NAT W2NAT1A    Two-work-area calls, Functions 1A & BL <br> (regular WA2), BN <br>
         CALL ‘GBI’ USING W1NAT W2NATAL    Two-work-area calls, Functions 1A & BL <br> (long WA2) <br>
         CALL ‘GBI’ USING W1NAT W2NAT3S    Two-work-area calls, Functions 3S <br>

</div>

<p><b>CICS NATURAL</b> programs issue calls as above but with GOAIDRV in place of GBI.</p>
<p><b><u>Natural COW</u></b>
NATURAL programs reference Geosupport COW LDAs by containing one or more of the following statements in DEFINE DATA:</p>
<div class="sourceCodeStatements">

         LOCAL USING GEOLP1               WA1, all functions <br>
         LOCAL USING GEOLP2               WA2, Functions 1 & 1E & 3C <br>
         LOCAL USING GEOLP2               WA2, Function 2 <br>
         LOCAL USING GEOLP2               WA2, Function 3 <br>
         LOCAL USING GEOLP21A          WA2, Functions 1A & BL (regular WA2), BN <br>
         LOCAL USING GEOLP2AL          WA2, Functions 1A & BL (long WA2) <br>
         LOCAL USING GEOLP23S          WA2, Function 3S <br>
         LOCAL USING GEOL2AP             WA2, Function AP <br>
         LOCAL USING GEOL2APX          WA2, Function AP Extended <br>

</div>

<p>For NATURAL COW programs that will be executed in the <b>batch environment</b> and that use the Geosupport COPY files (LDAs), some samples of API calls follow:</p>
<div class="sourceCodeStatements">

         CALL ‘GBI’ USING P1NAT                        One-work-area calls, all functions <br>
         CALL ‘GBI’ USING P1NAT P2NAT          Two-work-area calls, Functions 1 & 1E & 3C <br>
         CALL ‘GBI’ USING P1NAT P2NAT2         Two-work-area calls, Function 2 <br>
         CALL ‘GBI’ USING P1NAT P2NAT3         Two-work-area calls, Function 3 <br>
         CALL ‘GBI’ USING P1NAT P2NAT1A       Two-work-area calls, Fns 1A & BL (regular WA2), BN <br>
         CALL ‘GBI’ USING P1NAT P2NAT1AL     Two-work-area calls, Functions 1A & BL (long WA2) <br>
         CALL ‘GBI’ USING P1NAT P2NAT3S       Two-work-area calls, Functions 3S <br>
         CALL ‘GBI’ USING P1NAT P2NATAP       Two-work-area calls, Functions AP <br>
         CALL ‘GBI’ USING P1NAT P2NATAPX      Two-work-area calls, Functions AP Extended <br>

</div>

<p>Note that there are additional function options in the COW format.</p>
<p>* To choose the appropriate COW COPY file (P2NATxxx), see Table VIII-2. *</p>
<p>CICS NATURAL programs issue calls as above but with GOAIDRV in place of GBI.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../section06/" class="btn btn-neutral float-right" id="nextButton" title="VIII.6 JCL for the Compile Step">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../section04/" class="btn btn-neutral" id="previousButton" title="VIII.4 The Geosupport Copy Files"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../section04/" style="color: #fcfcfc; float:left">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../section06/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../../js/theme.js"></script>
      <script src="../../../js/main.js"></script>

</body>
</html>
